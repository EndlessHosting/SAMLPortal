@{
    ViewData["Title"] = "Home Page";
	List<App> allowedApps = ViewBag.allowedApps;
    
}

@using System.Security.Claims;

<div class="text-center">
    <h1 class="display-4">Welcome, @this.User.FindFirst(ClaimTypes.Name).Value</h1>
    @if (User.Identity.IsAuthenticated)
    {
		@foreach (var app in allowedApps)
		{
			<div class="row">
				<div class="col s6 m3">
					<div class="card blue-grey darken-1 hoverable">
						<div class="card-content white-text">
						<span class="card-title">@app.Name</span>
						<p>@app.Description</p>
						</div>
						<div class="card-action">
						<a href="/Auth/StartRequest/@app.Id">Open</a>
						</div>
					</div>
				</div>
			</div>
			
		}
    }
</div>
